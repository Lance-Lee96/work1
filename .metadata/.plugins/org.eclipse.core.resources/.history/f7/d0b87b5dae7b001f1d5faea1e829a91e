package com.example.demo.di;

import java.util.HashMap;
import java.util.Map;

import org.springframework.stereotype.Component;

//객체 자동등록하기
//스프링부트에서 어떻게 객체를 자동으로 만들어 놓고 시작할 수 있는가?
//ComponentScanning
//클래스 앞에 @Component 어노테이션을 붙이고 패키지에 컴포넌트 어노테이션이 붙어있는
//클래스를 찾아서 객체로 만들어 Map형태로 저장하는 기법

@Component class Car{};
@Component class SportCar extends Car{};
@Component class Truck extends Car{};
@Component class Engine{};

//객체 컨테이너 역할을 하는 클래스
class AppContext{
	Map map;
	
	public AppContext() {
		map = new HashMap();//객체를 저장하기 위한 map을 준비
		doComponentScan();//컴포넌트 스캐닝을 해서 map에 저장해주는 메서드
		
	}

	private void doComponentScan() {
		try {
			//1. 패키지내의 클래스 목록을 가져온다.
			//2. 반복문으로 클래스를 하나씩 읽어서 @Component가 붙어있는지 확인
			//3. @Component가 붙어있으면 객체를 생성해서 Map에 저장
			
		} catch (Exception e) {
			// TODO: handle exception
		}
		
	}
}


public class Main {

}
